# AppDeudas
## Configuracion
### Base de datos

<details>
<Summary>SQL Database</Summary>

![Database Diagram](./Relational%20Database.png)

Tablas: 
- User:
    Id, Email, Password
- Debt_States:
    Id, StateName
- Debt:
    Id, Amount, CreationDate, UserId, StateId

Crear una base de datos postgresql local, en ella crear las tablas y columnas con el siguiente SQL:
```SQL
-- Independent Tables --
CREATE TABLE APP_USER (
 	ID INT PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
	EMAIL VARCHAR(255) UNIQUE NOT NULL,
	PASSWORD VARCHAR(255) NOT NULL
);

CREATE TABLE DEBT_STATES (
	ID INT PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
	STATE_NAME VARCHAR(255) NOT NULL
);

-- Tables with dependencies must be created after the independent tables --
CREATE TABLE DEBT(
	ID INT PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
	AMOUNT DECIMAL(10,2) NOT NULL,
	CREATION_DATE DATE NOT NULL DEFAULT CURRENT_DATE,
    USER_ID INT NOT NULL REFERENCES APP_USER(ID) ON DELETE CASCADE,
    STATE_ID INT NOT NULL REFERENCES DEBT_STATES(ID) ON DELETE CASCADE
);

-- Example Independent Data --
INSERT INTO DEBT_STATES (STATE_NAME) VALUES ('Pending');
INSERT INTO DEBT_STATES (STATE_NAME) VALUES ('Partially Paid');
INSERT INTO DEBT_STATES (STATE_NAME) VALUES ('Paid');

INSERT INTO APP_USER (EMAIL, PASSWORD) VALUES ('sample@email.com', 'sample');
INSERT INTO APP_USER (EMAIL, PASSWORD) VALUES ('julian@gmail.com', 'pass2');

-- Example Dependent Data --
INSERT INTO DEBT (AMOUNT, CREATION_DATE, USER_ID, STATE_ID) VALUES (1000, CURRENT_DATE, 1, 1);
INSERT INTO DEBT (AMOUNT, CREATION_DATE, USER_ID, STATE_ID) VALUES (2000, CURRENT_DATE, 1, 2);
INSERT INTO DEBT (AMOUNT, CREATION_DATE, USER_ID, STATE_ID) VALUES (3000, CURRENT_DATE, 2, 3);
```
</details>

### Backend
<details>
<Summary>Backend</Summary>
1.Crear un archivo .env en la carpeta server y cambiar las variables con el de su postgresql local:
```
DB_USER=postgres
DB_PASSWORD=postgres_password
DB_HOST=localhost
DB_NAME=postgres_db_name
DB_PORT=5432
PORT=5000
```
</details>